#!/usr/bin/env php
<?php
define('APP_PATH', realpath(__DIR__ . '/../') . '/');
$config = require APP_PATH . 'vendor/autoload.php';

require APP_PATH . 'app/lib/storage/Db.php';
$config = require APP_PATH . 'conf/config.php';
new linger\framework\Application($config);

$db = \lib\storage\Db::instance('im_master');

$json = <<<json
[
  {
    "username": "贤心",
    "avatar": "http://tp1.sinaimg.cn/1571889140/180/40030060651/1",
    "sign": "这些都是测试数据，实际使用请严格按照该格式返回"
  },
  {
    "username": "Z_子晴",
    "avatar": "http://tva3.sinaimg.cn/crop.0.0.512.512.180/8693225ajw8f2rt20ptykj20e80e8weu.jpg",
    "sign": "微电商达人"
  },
  {
    "username": "Lemon_CC",
    "avatar": "http://tp2.sinaimg.cn/1833062053/180/5643591594/0",
    "sign": ""
  },
  {
    "username": "马小云",
    "avatar": "http://tp4.sinaimg.cn/2145291155/180/5601307179/1",
    "sign": "让天下没有难写的代码"
  },
  {
    "username": "徐小峥",
    "avatar": "http://tp2.sinaimg.cn/1783286485/180/5677568891/1",
    "sign": "代码在囧途，也要写到底"
  },
  {
    "username": "罗玉凤",
    "avatar": "http://tp1.sinaimg.cn/1241679004/180/5743814375/0",
    "sign": "在自己实力不济的时候，不要去相信什么媒体和记者。他们不是善良的人，有时候候他们的采访对当事人而言就是陷阱"
  },
  {
    "username": "长泽梓Azusa",
    "sign": "我是日本女艺人长泽あずさ",
    "avatar": "http://tva1.sinaimg.cn/crop.0.0.180.180.180/86b15b6cjw1e8qgp5bmzyj2050050aa8.jpg"
  },
  {
    "username": "大鱼_MsYuyu",
    "avatar": "http://tp1.sinaimg.cn/5286730964/50/5745125631/0",
    "sign": "我瘋了！這也太準了吧  超級笑點低"
  },
  {
    "username": "谢楠",
    "avatar": "http://tp4.sinaimg.cn/1665074831/180/5617130952/0",
    "sign": ""
  },
  {
    "username": "柏雪近在它香",
    "avatar": "http://tp2.sinaimg.cn/2518326245/180/5636099025/0",
    "sign": ""
  },{
    "username": "林心如",
    "avatar": "http://tp3.sinaimg.cn/1223762662/180/5741707953/0",
    "sign": "我爱贤心"
  },
  {
    "username": "佟丽娅",
    "avatar": "http://tp4.sinaimg.cn/1345566427/180/5730976522/0",
    "sign": "我也爱贤心吖吖啊"
  }
]
json;

//$db->insert('user', json_decode($json, true));
//$db->insert('group', [
//    [
//        'uid'       => 1,
//        'groupname' => '前端群',
//        'type'      => 2,
//        "avatar"    => "http://tp2.sinaimg.cn/2211874245/180/40050524279/0",
//    ],
//    [
//        'uid'       => 2,
//        'groupname' => 'Fly社区官方群',
//        'type'      => 2,
//        "avatar"    => "http://tp2.sinaimg.cn/5488749285/50/5719808192/1",
//    ],
//]);

//$db->insert('group_user_map', [
//    [
//        'group_id' => 1,
//        'uid'      => 1,
//    ],
//    [
//        'group_id' => 1,
//        'uid'      => 2,
//    ],
//    [
//        'group_id' => 1,
//        'uid'      => 3,
//    ],
//    [
//        'group_id' => 2,
//        'uid'      => 4,
//    ],
//    [
//        'group_id' => 2,
//        'uid'      => 5,
//    ],
//    [
//        'group_id' => 2,
//        'uid'      => 6,
//    ],
//    [
//        'group_id' => 3,
//        'uid'      => 7,
//    ],
//    [
//        'group_id' => 3,
//        'uid'      => 8,
//    ],
//    [
//        'group_id' => 3,
//        'uid'      => 9,
//    ],
//    [
//        'group_id' => 3,
//        'uid'      => 10,
//    ],
//    [
//        'group_id' => 3,
//        'uid'      => 11,
//    ],
//    [
//        'group_id' => 3,
//        'uid'      => 12,
//    ],
//]);

//$db->insert('user_group_map', [
//    [
//        'uid'      => 1,
//        'group_id' => 1,
//    ],
//    [
//        'uid'      => 1,
//        'group_id' => 2,
//    ],
//    [
//        'uid'      => 1,
//        'group_id' => 3,
//    ],
//    [
//        'uid'      => 1,
//        'group_id' => 4,
//    ],
//    [
//        'uid'      => 1,
//        'group_id' => 5,
//    ],
//]);